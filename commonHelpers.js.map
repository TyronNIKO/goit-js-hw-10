{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["'use strict';\n\n// Описаний в документації\nimport flatpickr from 'flatpickr';\n// Додатковий імпорт стилів\nimport 'flatpickr/dist/flatpickr.min.css';\n\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nclass Timer {\n\trefs = {\n\t\tinput: document.querySelector('input#datetime-picker'),\n\t\tstart: document.querySelector('[data-start]'),\n\t\tdays: document.querySelector('[data-days]'),\n\t\thours: document.querySelector('[data-hours]'),\n\t\tminutes: document.querySelector('[data-minutes]'),\n\t\tseconds: document.querySelector('[data-seconds]'),\n\t};\n\tconstructor() {}\n\tconvertMs(ms) {\n\t\t// Number of milliseconds per unit of time\n\t\tconst second = 1000;\n\t\tconst minute = second * 60;\n\t\tconst hour = minute * 60;\n\t\tconst day = hour * 24;\n\n\t\t// Remaining days\n\t\tconst days = Math.floor(ms / day);\n\t\t// Remaining hours\n\t\tconst hours = Math.floor((ms % day) / hour);\n\t\t// Remaining minutes\n\t\tconst minutes = Math.floor(((ms % day) % hour) / minute);\n\t\t// Remaining seconds\n\t\tconst seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n\t\treturn { days, hours, minutes, seconds };\n\t}\n\tvalidateTime(current, selected) {\n\t\tlet valid = false;\n\t\tif (current < selected) {\n\t\t\tvalid = true;\n\t\t}\n\t\treturn valid;\n\t}\n\taddLeadingZero(value) {\n\t\tconsole.log(value);\n\t\t// let formated = String(value).padStart(2, '0');\n\t\tlet formated = value < 10 ? '0' + value : value;\n\t\treturn formated;\n\t}\n\t// renderTimer({ days, hours, minutes, seconds }) {\n\t// \tthis.refs.days.innerText = this.addLeadingZero(days);\n\t// \tthis.refs.hours.innerText = this.addLeadingZero(hours);\n\t// \tthis.refs.minutes.innerText = this.addLeadingZero(minutes);\n\t// \tthis.refs.seconds.innerText = this.addLeadingZero(seconds);\n\t// }\n\trenderTimer(obj) {\n\t\tconst keys = Object.keys(obj);\n\t\tkeys.forEach(key => {\n\t\t\tthis.refs[key].innerText = this.addLeadingZero(obj[key]);\n\t\t});\n\t}\n\tinit() {\n\t\tthis.refs.start.setAttribute('disabled', '');\n\t\tthis.refs.start.addEventListener('click', e => {\n\t\t\te.preventDefault();\n\t\t\tconsole.log(e.target);\n\t\t\tconst currDate = Date.now();\n\t\t\tconsole.log(currDate);\n\t\t});\n\t}\n}\nconst timer = new Timer();\n\nconst options = {\n\tenableTime: true,\n\ttime_24hr: true,\n\tdefaultDate: new Date(),\n\tminuteIncrement: 1,\n\tonClose(selectedDates) {\n\t\tconsole.log(selectedDates[0]);\n\t\tconst validation = timer.validateTime(\n\t\t\toptions.defaultDate,\n\t\t\tselectedDates[0]\n\t\t);\n\t\tif (validation) {\n\t\t\tconst diff = selectedDates[0] - options.defaultDate;\n\t\t\ttimer.renderTimer(timer.convertMs(diff));\n\t\t} else {\n\t\t\tiziToast.error({\n\t\t\t\tposition: 'topRight', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter\n\t\t\t\ttitle: 'Error',\n\t\t\t\tmessage: 'Please choose a date in the future',\n\t\t\t});\n\t\t}\n\t},\n};\n\ntimer.init();\n\nconst picker = flatpickr(timer.refs.input, options);\nconsole.log(picker);\n"],"names":["Timer","__publicField","ms","days","hours","minutes","seconds","current","selected","valid","value","obj","key","currDate","timer","options","selectedDates","diff","iziToast","picker","flatpickr"],"mappings":"8PAYA,MAAMA,CAAM,CASX,aAAc,CARdC,EAAA,YAAO,CACN,MAAO,SAAS,cAAc,uBAAuB,EACrD,MAAO,SAAS,cAAc,cAAc,EAC5C,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,gBAAgB,CAClD,EACiB,CAChB,UAAUC,EAAI,CAQb,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACtC,CACD,aAAaC,EAASC,EAAU,CAC/B,IAAIC,EAAQ,GACZ,OAAIF,EAAUC,IACbC,EAAQ,IAEFA,CACP,CACD,eAAeC,EAAO,CACrB,eAAQ,IAAIA,CAAK,EAEFA,EAAQ,GAAK,IAAMA,EAAQA,CAE1C,CAOD,YAAYC,EAAK,CACH,OAAO,KAAKA,CAAG,EACvB,QAAQC,GAAO,CACnB,KAAK,KAAKA,CAAG,EAAE,UAAY,KAAK,eAAeD,EAAIC,CAAG,CAAC,CAC1D,CAAG,CACD,CACD,MAAO,CACN,KAAK,KAAK,MAAM,aAAa,WAAY,EAAE,EAC3C,KAAK,KAAK,MAAM,iBAAiB,QAAS,GAAK,CAC9C,EAAE,eAAc,EAChB,QAAQ,IAAI,EAAE,MAAM,EACpB,MAAMC,EAAW,KAAK,MACtB,QAAQ,IAAIA,CAAQ,CACvB,CAAG,CACD,CACF,CACA,MAAMC,EAAQ,IAAId,EAEZe,EAAU,CACf,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CAMtB,GALA,QAAQ,IAAIA,EAAc,CAAC,CAAC,EACTF,EAAM,aACxBC,EAAQ,YACRC,EAAc,CAAC,CAClB,EACkB,CACf,MAAMC,EAAOD,EAAc,CAAC,EAAID,EAAQ,YACxCD,EAAM,YAAYA,EAAM,UAAUG,CAAI,CAAC,CAC1C,MACGC,EAAS,MAAM,CACd,SAAU,WACV,MAAO,QACP,QAAS,oCACb,CAAI,CAEF,CACF,EAEAJ,EAAM,KAAI,EAEV,MAAMK,EAASC,EAAUN,EAAM,KAAK,MAAOC,CAAO,EAClD,QAAQ,IAAII,CAAM"}