import"./assets/styles-69d09f15.js";import{f as m,i as a,u as h}from"./assets/vendor-e449e461.js";class f{constructor(){this.refs={input:document.querySelector("input#datetime-picker"),start:document.querySelector("[data-start]"),days:document.querySelector("[data-days]"),hours:document.querySelector("[data-hours]"),minutes:document.querySelector("[data-minutes]"),seconds:document.querySelector("[data-seconds]")},this.futureDate=null}convertMs(t){const u=Math.floor(t/864e5),d=Math.floor(t%864e5/36e5),c=Math.floor(t%864e5%36e5/6e4),l=Math.floor(t%864e5%36e5%6e4/1e3);return{days:u,hours:d,minutes:c,seconds:l}}validateTime(t,e){return t<e}addLeadingZero(t){return String(t).padStart(2,"0")}renderTimer(t){Object.keys(t).forEach(n=>{this.refs[n].innerText=this.addLeadingZero(t[n])})}newInterval(t,e){const n=setInterval(()=>{let o=Date.now();const s=t-o;s>=0?this.renderTimer(this.convertMs(s)):(a.info({timeout:1e4,position:"topCenter",title:"Info",message:"Time expired. Input has been reset!"}),clearInterval(n),this.refs.input.removeAttribute("disabled"),this.refs.start.removeAttribute("disabled"))},e)}init(){this.refs.start.setAttribute("disabled",""),this.refs.start.addEventListener("click",t=>{t.preventDefault(),this.newInterval(this.futureDate,1e3),this.refs.input.setAttribute("disabled",""),this.refs.start.setAttribute("disabled","")})}}const r=new f,p={enableTime:!0,time_24hr:!0,defaultDate:new Date,minuteIncrement:1,locale:h.Ukrainian,onClose(i){if(console.log(i[0]),r.validateTime(Date.now(),i[0])){const e=i[0]-Date.now();r.renderTimer(r.convertMs(e)),r.refs.start.removeAttribute("disabled"),r.futureDate=i[0].getTime()}else a.error({iconUrl:"../img/icons/icon-error.svg",position:"topRight",title:"Error",message:"Please choose a date in the future"})}};r.init();m(r.refs.input,p);
//# sourceMappingURL=commonHelpers.js.map
