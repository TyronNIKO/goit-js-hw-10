import"./assets/styles-0d9091d8.js";import{i as a,f,u as h}from"./assets/vendor-e449e461.js";import{e as p}from"./assets/icon-error-e83c2919.js";const v="/goit-js-hw-10/assets/info-28eb2f9b.svg",n={info:v,error:p};console.log(n);a.info({timeout:!1,iconUrl:n.info,position:"topCenter",title:"Info",message:"Time expired. Input has been reset!"});class b{constructor(){this.refs={input:document.querySelector("input#datetime-picker"),start:document.querySelector("[data-start]"),days:document.querySelector("[data-days]"),hours:document.querySelector("[data-hours]"),minutes:document.querySelector("[data-minutes]"),seconds:document.querySelector("[data-seconds]")},this.futureDate=null}convertMs(e){const d=Math.floor(e/864e5),c=Math.floor(e%864e5/36e5),l=Math.floor(e%864e5%36e5/6e4),m=Math.floor(e%864e5%36e5%6e4/1e3);return{days:d,hours:c,minutes:l,seconds:m}}validateTime(e,t){return e<t}addLeadingZero(e){return String(e).padStart(2,"0")}renderTimer(e){Object.keys(e).forEach(i=>{this.refs[i].innerText=this.addLeadingZero(e[i])})}newInterval(e,t){const i=setInterval(()=>{let u=Date.now();const s=e-u;s>=0?this.renderTimer(this.convertMs(s)):(a.info({iconUrl:n.info,position:"topCenter",title:"Info",message:"Time expired. Input has been reset!"}),clearInterval(i),this.refs.input.removeAttribute("disabled"),this.refs.start.removeAttribute("disabled"))},t)}init(){this.refs.start.setAttribute("disabled",""),this.refs.start.addEventListener("click",e=>{e.preventDefault(),this.newInterval(this.futureDate,1e3),this.refs.input.setAttribute("disabled",""),this.refs.start.setAttribute("disabled","")})}}const r=new b,y={enableTime:!0,time_24hr:!0,defaultDate:new Date,minuteIncrement:1,locale:h.Ukrainian,onClose(o){if(console.log(o[0]),r.validateTime(Date.now(),o[0])){const t=o[0]-Date.now();r.renderTimer(r.convertMs(t)),r.refs.start.removeAttribute("disabled"),r.futureDate=o[0].getTime()}else a.error({iconUrl:n.error,position:"topRight",title:"Error",message:"Please choose a date in the future"})}};r.init();f(r.refs.input,y);
//# sourceMappingURL=commonHelpers.js.map
